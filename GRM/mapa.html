<!DOCTYPE html>
<html>
    <head>
        <title>Mapa</title>
        <meta charset="utf-8" />
        <link href="kendo/styles/kendo.mobile.all.min.css" rel="stylesheet" />
        <link href="styles/main.css" rel="stylesheet" />
        <script src="cordova.js"></script>
        <script src="kendo/js/jquery.min.js"></script>
        <script src="kendo/js/kendo.mobile.min.js"></script>
        <style>
            html, body, #map-canvas
            {
                height: 100%;
            }
            #map-canvas
            {
                width: 100%;
            }
        </style>
        
    </head>
    <body>
        <div id="tabstrip-mapa" 
             data-title="Mapa" 
             data-role="view"
             data-transition="fade"
             data-show="initMapa"
             >
            <div id="map-canvas"></div>
            <div data-role="header">
                <div data-role="navbar" style="background-color: black; color: white;">
                    <span data-role="view-title">Mapa</span>
                    <a data-align="right" data-role="backbutton" style="background-color: black; color: white;">Volver</a>
                </div>
            </div>
            
            <script>
               function initMapa(e) 
               {
                  //alert("works...");
                  document.getElementById("map-canvas").style.width = String($(window).width()) + "px";
                  document.getElementById("map-canvas").style.height = String($(window).height() - 35 ) + "px";
                  initializeMapa();
               }   
               function initializeMapa() 
              {
                   //alert("works");
                    var mapCanvas = document.getElementById('map-canvas');
                    var mapOptions = {
                      center: new google.maps.LatLng(glatitud, glongitud),
                      zoom: 8,
                      mapTypeId: google.maps.MapTypeId.ROADMAP
                    }
                    var map = new google.maps.Map(mapCanvas, mapOptions)
                  
                   var marker = new google.maps.Marker({
                        position: new google.maps.LatLng(glatitud, glongitud),
                        map: map,
                        title: "Ubicacion del usuario",
                        animation: google.maps.Animation.DROP
                    });
              }
              
              //alert("works");
              //google.maps.event.addDomListener(window, 'load', initialize)
            </script>
        </div>
    </body>
</html>